{"ast":null,"code":"import { LOGIN_SETSUSERNAME, LOGIN_SETSEMAIL, LOGIN_SETSPASSWORD, LOGIN_SIGNUP_ERROR, LOGIN_SIGNUP_USER, LOGIN_LOGIN_ERROR, LOGIN_SIGNUP_TOKEN, LOGIN_SETLEMAIL, LOGIN_SETLPASSWORD } from \"./actionTypes\";\nimport store from \"../store\";\nimport axios from \"axios\";\nimport config from \"../config.json\";\nexport const initUser = (user, token) => dispatch => {\n  dispatch({\n    data: user,\n    type: LOGIN_SIGNUP_USER\n  });\n  dispatch({\n    data: token,\n    type: LOGIN_SIGNUP_TOKEN\n  });\n};\nexport const setsusername = val => dispatch => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSUSERNAME\n  });\n};\nexport const setsemail = val => dispatch => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSEMAIL\n  });\n};\nexport const setspassword = val => dispatch => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSPASSWORD\n  });\n};\nexport const signup = (e, navigate) => dispatch => {\n  e.preventDefault();\n  const {\n    susername,\n    spassword,\n    semail\n  } = store.getState().login;\n  const req = {\n    user_name: susername,\n    user_email: semail,\n    user_password: spassword\n  };\n  axios.post(config.SERVER + \"/user/createUser\", req).then(res => {\n    if (res.data.success === false) throw Error(\"Error\");\n    dispatch({\n      data: false,\n      type: LOGIN_SIGNUP_ERROR\n    });\n    const user = res.data.user;\n    localStorage.setItem(\"user\", user.email);\n    dispatch({\n      data: user,\n      type: LOGIN_SIGNUP_USER\n    });\n    const token = res.data.token;\n    localStorage.setItem(\"token\", token);\n    dispatch({\n      data: token,\n      type: LOGIN_SIGNUP_TOKEN\n    });\n    navigate(\"/home\");\n  }).catch(err => {\n    dispatch({\n      data: true,\n      type: LOGIN_SIGNUP_ERROR\n    });\n    console.log(err);\n  });\n};\nexport const setlemail = val => dispatch => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETLEMAIL\n  });\n};\nexport const setlpassword = val => dispatch => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETLPASSWORD\n  });\n};\nexport const login = (e, navigate) => dispatch => {\n  e.preventDefault();\n  const {\n    lpassword,\n    lemail\n  } = store.getState().login;\n  const req = {\n    user_email: lemail,\n    user_password: lpassword\n  };\n  axios.post(config.SERVER + \"/user/login\", req).then(res => {\n    if (res.data.success === false) throw Error(\"Error\");\n    dispatch({\n      data: false,\n      type: LOGIN_LOGIN_ERROR\n    });\n    const user = res.data.user;\n    localStorage.setItem(\"user\", user.email);\n    dispatch({\n      data: user,\n      type: LOGIN_SIGNUP_USER\n    });\n    const token = res.data.token;\n    localStorage.setItem(\"token\", token);\n    dispatch({\n      data: token,\n      type: LOGIN_SIGNUP_TOKEN\n    });\n    navigate(\"/home\");\n  }).catch(err => {\n    dispatch({\n      data: true,\n      type: LOGIN_LOGIN_ERROR\n    });\n    console.log(err);\n  });\n};","map":{"version":3,"names":["LOGIN_SETSUSERNAME","LOGIN_SETSEMAIL","LOGIN_SETSPASSWORD","LOGIN_SIGNUP_ERROR","LOGIN_SIGNUP_USER","LOGIN_LOGIN_ERROR","LOGIN_SIGNUP_TOKEN","LOGIN_SETLEMAIL","LOGIN_SETLPASSWORD","store","axios","config","initUser","user","token","dispatch","data","type","setsusername","val","setsemail","setspassword","signup","e","navigate","preventDefault","susername","spassword","semail","getState","login","req","user_name","user_email","user_password","post","SERVER","then","res","success","Error","localStorage","setItem","email","catch","err","console","log","setlemail","setlpassword","lpassword","lemail"],"sources":["/Users/pbaid.int/collabEye/client/src/action/actionLogin.js"],"sourcesContent":["import {\n  LOGIN_SETSUSERNAME,\n  LOGIN_SETSEMAIL,\n  LOGIN_SETSPASSWORD,\n  LOGIN_SIGNUP_ERROR,\n  LOGIN_SIGNUP_USER,\n  LOGIN_LOGIN_ERROR,\n  LOGIN_SIGNUP_TOKEN,\n  LOGIN_SETLEMAIL,\n  LOGIN_SETLPASSWORD,\n} from \"./actionTypes\";\nimport store from \"../store\";\nimport axios from \"axios\";\nimport config from \"../config.json\";\n\nexport const initUser = (user, token) => (dispatch) => {\n  dispatch({\n    data: user,\n    type: LOGIN_SIGNUP_USER,\n  });\n\n  dispatch({\n    data: token,\n    type: LOGIN_SIGNUP_TOKEN,\n  });\n};\n\nexport const setsusername = (val) => (dispatch) => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSUSERNAME,\n  });\n};\n\nexport const setsemail = (val) => (dispatch) => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSEMAIL,\n  });\n};\n\nexport const setspassword = (val) => (dispatch) => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETSPASSWORD,\n  });\n};\n\nexport const signup = (e, navigate) => (dispatch) => {\n  e.preventDefault();\n\n  const { susername, spassword, semail } = store.getState().login;\n\n  const req = {\n    user_name: susername,\n    user_email: semail,\n    user_password: spassword,\n  };\n\n  axios\n    .post(config.SERVER + \"/user/createUser\", req)\n    .then((res) => {\n      if (res.data.success === false) throw Error(\"Error\");\n\n      dispatch({\n        data: false,\n        type: LOGIN_SIGNUP_ERROR,\n      });\n\n      const user = res.data.user;\n      localStorage.setItem(\"user\", user.email);\n\n      dispatch({\n        data: user,\n        type: LOGIN_SIGNUP_USER,\n      });\n\n      const token = res.data.token;\n      localStorage.setItem(\"token\", token);\n\n      dispatch({\n        data: token,\n        type: LOGIN_SIGNUP_TOKEN,\n      });\n\n      navigate(\"/home\");\n    })\n    .catch((err) => {\n      dispatch({\n        data: true,\n        type: LOGIN_SIGNUP_ERROR,\n      });\n\n      console.log(err);\n    });\n};\n\nexport const setlemail = (val) => (dispatch) => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETLEMAIL,\n  });\n};\n\nexport const setlpassword = (val) => (dispatch) => {\n  dispatch({\n    data: val,\n    type: LOGIN_SETLPASSWORD,\n  });\n};\n\nexport const login = (e, navigate) => (dispatch) => {\n  e.preventDefault();\n\n  const { lpassword, lemail } = store.getState().login;\n\n  const req = {\n    user_email: lemail,\n    user_password: lpassword,\n  };\n\n  axios\n    .post(config.SERVER + \"/user/login\", req)\n    .then((res) => {\n      if (res.data.success === false) throw Error(\"Error\");\n\n      dispatch({\n        data: false,\n        type: LOGIN_LOGIN_ERROR,\n      });\n\n      const user = res.data.user;\n      localStorage.setItem(\"user\", user.email);\n\n      dispatch({\n        data: user,\n        type: LOGIN_SIGNUP_USER,\n      });\n\n      const token = res.data.token;\n      localStorage.setItem(\"token\", token);\n\n      dispatch({\n        data: token,\n        type: LOGIN_SIGNUP_TOKEN,\n      });\n\n      navigate(\"/home\");\n    })\n    .catch((err) => {\n      dispatch({\n        data: true,\n        type: LOGIN_LOGIN_ERROR,\n      });\n\n      console.log(err);\n    });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}